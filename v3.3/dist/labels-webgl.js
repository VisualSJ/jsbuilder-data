!function(){cc.LabelAtlas.WebGLRenderCmd=function(a){cc.AtlasNode.WebGLRenderCmd.call(this,a),this._needDraw=!0};var a=cc.LabelAtlas.WebGLRenderCmd.prototype=Object.create(cc.AtlasNode.WebGLRenderCmd.prototype);a.constructor=cc.LabelAtlas.WebGLRenderCmd,a.setCascade=function(){var a=this._node;a._cascadeOpacityEnabled=!0,a._cascadeColorEnabled=!0},a.rendering=function(a){if(cc.AtlasNode.WebGLRenderCmd.prototype.rendering.call(this,a),cc.LABELATLAS_DEBUG_DRAW){var b=this._node.getContentSize(),c=[cc.p(0,0),cc.p(b.width,0),cc.p(b.width,b.height),cc.p(0,b.height)];cc._drawingUtil.drawPoly(c,4,!0)}},a.updateAtlasValues=function(){var a=this._node,b=a._string,c=b.length,d=this._textureAtlas,e=d.texture,f=e.pixelsWidth,g=e.pixelsHeight,h=a._itemWidth,i=a._itemHeight;a._ignoreContentScaleFactor||(h=a._itemWidth*cc.contentScaleFactor(),i=a._itemHeight*cc.contentScaleFactor()),c>d.getCapacity()&&cc.log("cc.LabelAtlas._updateAtlasValues(): Invalid String length");for(var j=d.quads,k=this._displayedColor,l={r:k.r,g:k.g,b:k.b,a:a._displayedOpacity},m=a._itemWidth,n=0;c>n;n++){var o,p,q,r,s=b.charCodeAt(n)-a._mapStartChar.charCodeAt(0),t=s%a._itemsPerRow,u=0|s/a._itemsPerRow;cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL?(o=(2*t*h+1)/(2*f),p=o+(2*h-2)/(2*f),q=(2*u*i+1)/(2*g),r=q+(2*i-2)/(2*g)):(o=t*h/f,p=o+h/f,q=u*i/g,r=q+i/g);var v=j[n],w=v.tl,x=v.tr,y=v.bl,z=v.br;w.texCoords.u=o,w.texCoords.v=q,x.texCoords.u=p,x.texCoords.v=q,y.texCoords.u=o,y.texCoords.v=r,z.texCoords.u=p,z.texCoords.v=r,y.vertices.x=n*m,y.vertices.y=0,y.vertices.z=0,z.vertices.x=n*m+m,z.vertices.y=0,z.vertices.z=0,w.vertices.x=n*m,w.vertices.y=a._itemHeight,w.vertices.z=0,x.vertices.x=n*m+m,x.vertices.y=a._itemHeight,x.vertices.z=0,w.colors=l,x.colors=l,y.colors=l,z.colors=l}if(c>0){d.dirty=!0;var A=d.totalQuads;c>A&&d.increaseTotalQuadsWith(c-A)}},a.setString=function(a){var b=a.length;b>this._textureAtlas.totalQuads&&this._textureAtlas.resizeCapacity(b)},a._addChild=function(){}}(),function(){cc.LabelBMFont.WebGLRenderCmd=function(a){cc.SpriteBatchNode.WebGLRenderCmd.call(this,a),this._needDraw=!0};var a=cc.LabelBMFont.WebGLRenderCmd.prototype=Object.create(cc.SpriteBatchNode.WebGLRenderCmd.prototype);a.constructor=cc.LabelBMFont.WebGLRenderCmd,a._updateCharTexture=function(a,b){a.setTextureRect(b,!1),a.visible=!0},a._updateFntFileTexture=function(){},a._changeTextureColor=function(){},a._updateChildrenDisplayedOpacity=function(a){a.updateDisplayedOpacity(this._displayedOpacity)},a._updateChildrenDisplayedColor=function(a){a.updateDisplayedColor(this._displayedColor)},a._initBatchTexture=function(){var a=this._node,b=a.textureAtlas.texture;a._opacityModifyRGB=b.hasPremultipliedAlpha();var c=a._reusedChar=new cc.Sprite;c.initWithTexture(b,cc.rect(0,0,0,0),!1),c.batchNode=a},a.rendering=function(a){cc.SpriteBatchNode.WebGLRenderCmd.prototype.rendering.call(this,a);var b=this._node;if(cc.LABELBMFONT_DEBUG_DRAW){var c=b.getContentSize(),d=cc.p(0|-this._anchorPointInPoints.x,0|-this._anchorPointInPoints.y),e=[cc.p(d.x,d.y),cc.p(d.x+c.width,d.y),cc.p(d.x+c.width,d.y+c.height),cc.p(d.x,d.y+c.height)];cc._drawingUtil.setDrawColor(0,255,0,255),cc._drawingUtil.drawPoly(e,4,!0)}},a._updateCharColorAndOpacity=function(){}}();